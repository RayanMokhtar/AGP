<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <link rel="stylesheet" type="text/css" href="test.css" />
    <title>Offres de voyages</title>
    <link rel="icon" type="image/png" href="ile.png" />
</h:head>

<h:body>
    <div class="background"></div>
    <h1>Offres de voyages</h1>

    <!-- Afficher les offres dans une table -->
   <h:form>
     <ui:repeat value="#{resultBean.offers}" var="offer">
            <div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 15px; border-radius: 5px;">
                <h3>Offre</h3>
                <p><strong>Hôtels :</strong></p>
                <ui:repeat value="#{offer.hotels}" var="hotel">
                    <div style="margin-left: 15px; padding: 5px;">
                        <p>- Nom de l'hôtel : #{hotel.name}</p>
                        <p>- Île : #{hotel.island.name}</p>
                        <p>- Prix par jour : #{hotel.pricePerDay} €</p>
                        <p>- Étoiles : #{hotel.stars}</p>
                    </div>
                </ui:repeat>

                <p><strong>Excursions :</strong></p>
                <ui:repeat value="#{offer.excursions}" var="excursion">
                    <div style="margin-left: 15px; padding: 5px;">
                        <p>- Départ de l'hôtel : #{excursion.hotelDeparture.name}</p>
                        <p>- Lieux visités :</p>
                        <ul>
                            <ui:repeat value="#{excursion.placesVisited}" var="visit">
                                <li>#{visit.site.name} (Transport: #{visit.transport}, Coût: #{visit.costVisit} €, Durée: #{visit.durationVisit} heures)</li>
                            </ui:repeat>
                        </ul>
                        <p>- Arrivée à l'hôtel : #{excursion.hotelArrival.name}</p>
                        <p>- Durée du transport : #{excursion.durationTransport} heures</p>
                        <p>- Coût de l'excursion : #{excursion.excursionCost} €</p>
                    </div>
                </ui:repeat>

                
                <p><strong>Prix final :</strong> #{offer.finalPrice} €</p>
            </div>
        </ui:repeat>
</h:form>

</h:body>

</html>